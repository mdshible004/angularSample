<div class="grid simple col-md-12" ng-show="createItem">

    <div class="grid-title">
        <div class="row">
            <div class="col-md-8">
                <div class="page-title">

                    <h3>
                       Opening Trail -
                        <span class="semi-bold">Balance</span>
                    </h3>
                </div>

            </div>
            <div class="col-md-1">
                <button type="submit" class="btn btn-primary btn-block resetBtn" ng-click="clearField()">Reset</button>
            </div>
            <div class="col-md-1 marginOff ">
                <button type="submit" class="btn btn-danger clearfix btn-block " ng-click="exportToPDF('print')">
                    <span class="fa fa-file-pdf-o"></span> PDF
                </button>
            </div>
            <div class="col-md-1 marginOff">
                <button type="submit" class="btn btn-primary btn-block " ng-click="vm.exportToExcel('ExcelGenerate')">
                    <span class="fa fa-file-excel-o"></span>Excel
                </button>
            </div>
            <div class="col-md-1 marginOff pull-right">
                <button type="submit" class="btn btn-primary btn-block saveBtn" ng-click="vm.printDiv('print')">
                    <span class="glyphicon glyphicon-print"></span> Print
                </button>
            </div>

        </div>
    </div>
    <div class="grid-body">
        <div class="row">

            <form class="form-horizontal col-sm-10" name="vm.feeCollection">
                <div class="row">
                    <div class="col-md-5">
                        <div class="form-group">
                            <label class="col-sm-7 control-label"> Branch</label>
                            <div class="col-sm-5">
                                <ui-select ng-model="vm.branch.selected" theme="bootstrap" ng-click="vm.BrunchID = $select.selected.BrunchID" ng-change="gridHide()">
                                    <ui-select-match placeholder="-Select Branch-">
                                        {{$select.selected.BrunchName}}
                                        <span style="float:right" ng-click="vm.BrunchID = null; $select.selected=undefined">
                                            <i class="fa fa-remove" aria-hidden="true"></i>
                                        </span>
                                    </ui-select-match>
                                    <ui-select-choices repeat="branch in vm.branches | filter: $select.search">
                                        <div ng-bind-html="branch.BrunchName | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                            </div>
                        </div>
                        <!--<div class="form-group">
                            <label class="col-sm-7 control-label">Project</label>
                            <div class="col-sm-5">
                                <ui-select ng-model="vm.month.selected" theme="bootstrap" ng-click="vm.MonthID = $select.selected.MonthID">
                                    <ui-select-match placeholder="-Select-">{{$select.selected.MonthName}}</ui-select-match>
                                    <ui-select-choices repeat="month in  vm.months | filter: $select.search">
                                        <div ng-bind-html="month.MonthName | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                            </div>
                        </div>-->

                        <div class="form-group" ng-hide="true">
                            <label class="col-sm-7 control-label">From Date</label>
                            <div class="col-sm-5 input-groups margin-bottom-sm">
                                <datepicker date-format="dd-MM-yyyy" selector="form-control">
                                    <div class="input-group">
                                        <input class="form-control" placeholder="Choose a date" ng-model="vm.FromDate"  ng-change="gridHide()" />
                                        <span class="input-group-addon" style="cursor: pointer">
                                            <i class="fa fa-lg fa-calendar"></i>
                                        </span>
                                    </div>
                                </datepicker>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-5" ng-hide="true">
                        <div class="form-group">
                            <label class="col-sm-5 control-label">Fiscal Year</label>
                            <div class="col-sm-5">
                                <ui-select ng-model="vm.year.selected" theme="bootstrap" ng-click="vm.YearID = $select.selected.YearName" ng-change="gridHide()">
                                    <ui-select-match placeholder="-Select Year-">
                                        {{$select.selected.YearName}}
                                        <span style="float:right" ng-click="vm.YearID = null; $select.selected=undefined">
                                            <i class="fa fa-remove" aria-hidden="true"></i>
                                        </span>
                                    </ui-select-match>
                                    <ui-select-choices repeat="year in vm.years | filter: $select.search">
                                        <div ng-bind-html="year.YearName | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                            </div>
                        </div>
                        <!--<div class="form-group">
                            <label class="col-sm-5 control-label">COA Head Show At Level </label>
                            <div class="col-sm-5">
                                <ui-select ng-model="vm.class.selected" theme="bootstrap" ng-click="vm.ClassID = $select.selected.ClassID" on-select="vm.ClassSelected(vm.class.selected.ClassID)">
                                    <ui-select-match placeholder="-Select-">{{$select.selected.ClassName}}</ui-select-match>
                                    <ui-select-choices repeat="class in  vm.classes | filter: $select.search">
                                        <div ng-bind-html="class.ClassName | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                            </div>
                        </div>-->

                        <div class="form-group">
                            <label class="col-sm-5 control-label">To Date</label>
                            <div class="col-sm-5 input-groups margin-bottom-sm">
                                <datepicker date-format="dd-MM-yyyy" selector="form-control">
                                    <div class="input-group">
                                        <input class="form-control" placeholder="Choose a date" ng-model="vm.ToDate" ng-change="gridHide()" />
                                        <span class="input-group-addon" style="cursor: pointer">
                                            <i class="fa fa-lg fa-calendar"></i>
                                        </span>
                                    </div>
                                </datepicker>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-1 marginOff">
                        <button type="submit" class="btn btn-primary btn-block showBtn" ng-disabled="disBtn" ng-click="vm.getTrailBalaceReport()"> Show</button>
                        <!-- <button type="submit" class="btn btn-primary btn-block" ng-click="">Update</button> -->
                    </div>

                </div>


            </form>

        </div>
    </div>
</div>






<div class="grid-body" id="print" ng-show="mainDIV">
    <!-- logo title -->
    <table width=100% ng-show="headerShow">
        <tr>
            <td width=30%>
                <div>
                    <img src="{{vm.imgHost}}{{InstituteLogo}}" style="height:35px; width:35px" />
                </div>
                <div>
                    <b style="color: #131212;font-size:12px">
                        {{InstituteName}}
                        <br />{{InsAddress}}
                    </b>
                </div>
                <div>

                    <p style="font-size:12px">Branch:{{vm.branch.selected.BrunchID===undefined?'':vm.branch.selected.BrunchName}} </p>
                </div>
            </td>

            <td>
                <div class="col-md-5 pull-right" style=" margin-top: -40px;">
                    <div style="float:right; margin-top: 35px;">
                        <p style="color: #131212;">
                            Phone: {{InsPhoneNo}}
                            <br style="color: #131212;"> Email: {{InsEmail}}
                            <br style="color: #131212;"> Web:{{InsWeb}}
                        </p>
                        <br />

                        <p class="pull-right" style="font-size:12px">From Date:{{vm.FromDate}}<br /> To Date:{{vm.ToDate}}</p>
                    </div>
                </div>
            </td>
        </tr>
    </table>

    <div id="ExcelGenerate" ng-show="tblShow">
        <div class="row">
            <div>
                <h3 style="color: #131212; text-align:center; margin-top: -55px;">
                    Trail Balance
                </h3>
            </div>

        </div>
        <table class="table1" style="  border-collapse: collapse; border-spacing: 10px; border: 1px solid black; " width=100%>
            <thead>
                <tr>
                    <th style=" border: 1px solid black; color: #131212;text-align:center">COA Head</th>
                    <th style=" border: 1px solid black; color: #131212;text-align:center;"> Opening Balance</th>
                    <th style=" border: 1px solid black; color: #131212;text-align:center;"> Debit</th>
                    <th style=" border: 1px solid black; color: #131212;text-align:center;"> Credit</th>
                    <th style=" border: 1px solid black; color: #131212;text-align:center ;">Closing Balance</th>

                </tr>
            </thead>

            <tbody ng-repeat="item1 in vm.trailBalance">

                <tr style="  border-collapse: collapse; border-spacing: 10px; border: 1px solid #847474;box-shadow: 1px 1px 8px #888888; background-color:lightgray; ">

                    <th>
                        <p style="text-align:left;font-size:15px; color:black;">{{item1.HeadType}}</p>
                    </th>
                    <th>
                        <p style="text-align:center;font-size:15px;  color:black;" ng-if="item1.HeadTypeID===1" ng-show="item1.HeadTypeID===1"> {{OpeningBalAss}}</p>
                        <p style="text-align:center;font-size:15px;  color:black;" ng-if="item1.HeadTypeID===2" ng-show="item1.HeadTypeID===2">{{OpeningBalLI}}</p>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===3" ng-show="item1.HeadTypeID===3">{{OpeningBalEx}}</p>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===4" ng-show="item1.HeadTypeID===4">{{OpeningBalIn}}</p>
                    </th>
                    <th>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===1" ng-show="item1.HeadTypeID===1"> {{DrAmountAss}}</p>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===2" ng-show="item1.HeadTypeID===2">{{DrAmountLI}}</p>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===3" ng-show="item1.HeadTypeID===3">{{DrAmountEx}}</p>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===4" ng-show="item1.HeadTypeID===4">{{DrAmountIn}}</p>
                    </th>
                    <th>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===1" ng-show="item1.HeadTypeID===1"> {{CrAmountAss}}</p>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===2" ng-show="item1.HeadTypeID===2">{{CrAmountLI}}</p>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===3" ng-show="item1.HeadTypeID===3">{{CrAmountEx}}</p>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===4" ng-show="item1.HeadTypeID===4">{{CrAmountIn}}</p>
                    </th>
                    <th>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===1" ng-show="item1.HeadTypeID===1"> {{ClosingBalAss}}</p>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===2" ng-show="item1.HeadTypeID===2">{{ClosingBalLI}}</p>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===3" ng-show="item1.HeadTypeID===3">{{ClosingBalEx}}</p>
                        <p style="text-align:center;font-size:15px; color:black;" ng-if="item1.HeadTypeID===4" ng-show="item1.HeadTypeID===4">{{ClosingBalIn}}</p>
                    </th>

                </tr>

                <tr style=" border: 1px solid #847474; color: #131212; " ng-repeat="item2 in item1.Ledger">

                    <th style=" border: 1px solid #D3D3D3; color: #131212;">
                        <p style="text-align:left;font-size:13px;">{{item2.COAName}}</p>
                    </th>
                    <th style=" border: 1px solid #D3D3D3; color: #131212;">
                        <p style="text-align:center;font-size:13px;">{{item2.OpeningBal}}</p>
                    </th>
                    <th style=" border: 1px solid #D3D3D3; color: #131212;">
                        <p style="text-align:center;font-size:13px;">{{item2.DrAmount}}</p>
                    </th>
                    <th style=" border: 1px solid #D3D3D3; color: #131212;">
                        <p style="text-align:center;font-size:13px;">{{item2.CrAmount}}</p>
                    </th>
                    <th style=" border: 1px solid #D3D3D3; color: #131212;">
                        <p style="text-align:center;font-size:13px;">{{item2.ClosingBal}}</p>
                    </th>
                </tr>
            </tbody>
            <tfoot style="border: 1px solid black;color: #131212" >
                <tr style="border: 1px solid black;color: #131212">
                    <th >  </th>
                    <th style="text-align:center;font-size:15px;border: 1px solid black;color: #131212"></th>

                    <th style="text-align:center; font-size:15px;border: 1px solid black;color: #131212">
                        {{TotalDrAmount}} TK. 
                        <!--<p style=" font-size:15px;">======</p>-->
                    </th>
                    <th style="text-align:center; font-size:15px;border: 1px solid black;color: #131212">
                        {{TotalCrAmount}} TK.
                        <!--<p style=" font-size:15px;">======</p>-->
                    </th>
                    <th style="text-align:center; font-size:15px;border: 1px solid black;color: #131212"></th>
                </tr>
                </tfoot>

        </table>

    </div>
    <div ng-show="lastDiv">
        <br>
        <br>
        <br>

        <pre>______________________            _______________________               ______________________</pre>
        <pre>      Signed by                          Approved by                        Final approved    </pre>
        <br />
    </div>
</div>












<style>
    .thumb {
        width: 24px;
        height: 24px;
        float: none;
        position: relative;
        top: 7px;
    }

    .modal-content {
        width: 1660px;
        margin-left: -405px;
    }
</style>
<script src="/bower_components/pdfExport/kendo.all.min.js"></script>
